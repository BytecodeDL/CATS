<project default="compile" basedir=".">
	<!-- Enter your own mingw gcc dir and file and your jdk home. Non-mingw gcc compilers maybe don't work! -->
	<property name="gcc_dir" value="C:\cygwin64\bin\" />
	<property name="gcc_file" value="C:\cygwin64\bin\x86_64-w64-mingw32-gcc" />
	<property name="jdk_home" value="C:\Program Files\Java\jdk1.8.0_91" />
	<target name="javah">
		<javah classpath="bin" outputFile="src\native\expressions\jni\ArithmeticOperations.h" verbose="yes">
			<class name="expressions.jni.NativeAddExpression" />
			<class name="expressions.jni.NativeSubExpression" />
			<class name="expressions.jni.NativeMulExpression" />
			<class name="expressions.jni.NativeDivExpression" />
		</javah>
	</target>
	<target name="compile" depends="javah">
		<exec dir="${gcc_dir}" executable="${gcc_file}">
			<arg value="-I" />
			<arg value="${jdk_home}\include" />
			<arg value="-I" />
			<arg value="${jdk_home}\include\win32" />
			<arg value="-shared" />
			<arg value="-Wl,--add-stdcall-alias" />
			<arg value="-o" />
			<arg value="${basedir}\arithmetic_operations.dll" />
			<arg value="${basedir}\src\native\expressions\jni\ArithmeticOperations.c" />
		</exec>
	</target>
</project>
